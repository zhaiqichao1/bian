# 比特币价格预测系统

一个基于深度学习的比特币价格预测系统，使用LSTM模型和技术指标分析进行价格走势预测。

## 🚀 主要特点

- **高级预测系统**：
  - 双向LSTM+Attention模型
  - 集成学习（多模型投票）
  - 自动特征工程
  - 置信度评分系统

- **严格的技术指标过滤**：
  - RSI超买超卖检查
  - MACD方向验证
  - 布林带位置检查
  - 趋势方向确认
  - 成交量确认

- **风险管理系统**：
  - 马丁格尔投注策略
  - 每日最大亏损限制
  - 单笔止损/止盈
  - 动态仓位管理

- **市场情绪分析**：
  - 大单交易检测
  - 恐慌贪婪指数整合
  - 社交媒体情绪分析

## 📊 马丁格尔策略

系统实现了改进的马丁格尔投注策略：

1. 初始投注5U，赢则继续投注5U
2. 输则翻倍投注：5U→10U→30U→90U→250U
3. 任何时候赢了都重置回5U

此策略在亏损时增加投注额，但有严格的风控机制防止过度亏损。

## 🔍 大单交易检测

系统会实时监控交易所的大单交易：

- 自动调整的大单阈值（默认0.5 BTC）
- 区分"所有最近交易"和"最近1分钟内"的大单
- 提供大单买入/卖出压力指标

## 🧠 预测系统改进

最新版本的预测系统有以下改进：

1. **严格的技术指标过滤**：
   - 只有当技术指标与预测方向一致时才执行交易
   - 多重技术指标验证（RSI、MACD、布林带、均线、成交量）
   - 自动识别超买超卖区域

2. **增强的特征工程**：
   - 新增50+技术指标特征
   - 市场情绪特征整合
   - 时间特征和交易活跃度分析

3. **模型训练可视化**：
   - 训练曲线图表
   - 模型收敛监控
   - 学习率自动调整

4. **置信度阈值提高**：
   - 默认置信度阈值从60%提高到75%
   - 动态置信度调整系统

## 📈 使用方法

### 安装依赖

```bash
pip install -r requirements.txt
```

### 配置

编辑`config.py`文件，设置您的API密钥和交易参数：

```python
# 示例配置
config = {
    'api_key': 'YOUR_API_KEY',
    'api_secret': 'YOUR_API_SECRET',
    'symbol': 'BTCUSDT',
    'timeframe': '1m',
    'test_mode': True,  # 设为False进行实盘交易
    'trade_enabled': False,  # 设为True启用自动交易
    'min_confidence_threshold': 75,  # 置信度阈值
    'tech_filter_enabled': True,  # 技术指标过滤
}
```

### 运行

```bash
python main.py
```

### 交互命令

系统支持以下交互命令：

- `predict` - 执行一次预测
- `train` - 重新训练模型
- `stats` - 显示交易统计
- `config` - 显示当前配置
- `exit` - 退出程序

## ⚠️ 风险提示

加密货币交易具有高风险性。本系统仅供学习和研究使用，不构成投资建议。使用本系统进行实盘交易时，请注意以下几点：

1. 始终使用您能够承受损失的资金
2. 从小额开始测试系统
3. 定期监控系统性能
4. 了解马丁格尔策略的风险

## �� 许可证

MIT License 